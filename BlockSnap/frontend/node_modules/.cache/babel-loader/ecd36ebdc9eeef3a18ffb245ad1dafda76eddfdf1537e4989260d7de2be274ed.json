{"ast":null,"code":"var _jsxFileName = \"/home/hrithik/scratch_proj/BlockSnap/frontend/src/components/Navbar.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { Box, Flex, Button, Text, useColorModeValue, HStack, Menu, MenuButton, MenuList, MenuItem } from '@chakra-ui/react';\nimport { useWeb3React } from '@web3-react/core';\nimport { injected } from '../utils/connectors';\nimport { ChevronDownIcon } from '@chakra-ui/icons';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Navbar() {\n  _s();\n  const {\n    active,\n    account,\n    activate,\n    deactivate\n  } = useWeb3React();\n  const connectWallet = async () => {\n    console.log('Attempting to connect wallet...');\n    try {\n      // Check if MetaMask is installed\n      if (!window.ethereum) {\n        throw new Error('Please install MetaMask to connect your wallet');\n      }\n\n      // Request account access\n      await window.ethereum.request({\n        method: 'eth_requestAccounts'\n      });\n\n      // Activate the injected connector\n      await activate(injected, async error => {\n        console.error('Activation error:', error);\n        if (error.name === 'UnsupportedChainIdError') {\n          try {\n            // Try to switch to Sepolia network\n            await window.ethereum.request({\n              method: 'wallet_switchEthereumChain',\n              params: [{\n                chainId: '0xaa36a7'\n              }] // Sepolia chainId\n            });\n          } catch (switchError) {\n            throw new Error('Please switch to Sepolia network in MetaMask');\n          }\n        }\n        throw error;\n      });\n      console.log('Wallet connected:', account);\n    } catch (error) {\n      console.error('Error connecting wallet:', error);\n      // You might want to add a toast notification here for user feedback\n      alert(error.message || 'Failed to connect wallet. Please try again.');\n    }\n  };\n  const disconnectWallet = async () => {\n    try {\n      deactivate();\n      console.log('Wallet disconnected');\n    } catch (error) {\n      console.error('Error disconnecting wallet:', error);\n    }\n  };\n  const formatAddress = address => {\n    return `${address.slice(0, 6)}...${address.slice(-4)}`;\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    px: 4,\n    bg: useColorModeValue('gray.800', 'gray.900'),\n    borderBottom: \"1px\",\n    borderColor: useColorModeValue('gray.700', 'gray.700'),\n    children: /*#__PURE__*/_jsxDEV(Flex, {\n      h: 16,\n      alignItems: \"center\",\n      justifyContent: \"space-between\",\n      children: [/*#__PURE__*/_jsxDEV(Text, {\n        fontSize: \"xl\",\n        fontWeight: \"bold\",\n        bgGradient: \"linear(to-r, cyan.400, blue.500, purple.600)\",\n        bgClip: \"text\",\n        children: \"BlockSnap\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(HStack, {\n        spacing: 4,\n        children: active ? /*#__PURE__*/_jsxDEV(Menu, {\n          children: [/*#__PURE__*/_jsxDEV(MenuButton, {\n            as: Button,\n            rightIcon: /*#__PURE__*/_jsxDEV(ChevronDownIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 28\n            }, this),\n            colorScheme: \"blue\",\n            variant: \"outline\",\n            children: formatAddress(account)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(MenuList, {\n            bg: \"gray.800\",\n            borderColor: \"gray.700\",\n            children: /*#__PURE__*/_jsxDEV(MenuItem, {\n              bg: \"gray.800\",\n              _hover: {\n                bg: 'gray.700'\n              },\n              onClick: disconnectWallet,\n              children: \"Disconnect Wallet\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(Button, {\n          colorScheme: \"blue\",\n          onClick: connectWallet,\n          leftIcon: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"/metamask-fox.svg\",\n            alt: \"MetaMask\",\n            style: {\n              width: '20px',\n              height: '20px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 17\n          }, this),\n          children: \"Connect Wallet\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n}\n_s(Navbar, \"ubexfzPalY4MkWbATRgK51KC/R4=\", false, function () {\n  return [useWeb3React, useColorModeValue, useColorModeValue];\n});\n_c = Navbar;\nexport default Navbar;\nvar _c;\n$RefreshReg$(_c, \"Navbar\");","map":{"version":3,"names":["React","Box","Flex","Button","Text","useColorModeValue","HStack","Menu","MenuButton","MenuList","MenuItem","useWeb3React","injected","ChevronDownIcon","jsxDEV","_jsxDEV","Navbar","_s","active","account","activate","deactivate","connectWallet","console","log","window","ethereum","Error","request","method","error","name","params","chainId","switchError","alert","message","disconnectWallet","formatAddress","address","slice","px","bg","borderBottom","borderColor","children","h","alignItems","justifyContent","fontSize","fontWeight","bgGradient","bgClip","fileName","_jsxFileName","lineNumber","columnNumber","spacing","as","rightIcon","colorScheme","variant","_hover","onClick","leftIcon","src","alt","style","width","height","_c","$RefreshReg$"],"sources":["/home/hrithik/scratch_proj/BlockSnap/frontend/src/components/Navbar.js"],"sourcesContent":["import React from 'react';\nimport {\n  Box,\n  Flex,\n  Button,\n  Text,\n  useColorModeValue,\n  HStack,\n  Menu,\n  MenuButton,\n  MenuList,\n  MenuItem,\n} from '@chakra-ui/react';\nimport { useWeb3React } from '@web3-react/core';\nimport { injected } from '../utils/connectors';\nimport { ChevronDownIcon } from '@chakra-ui/icons';\n\nfunction Navbar() {\n  const { active, account, activate, deactivate } = useWeb3React();\n\n  const connectWallet = async () => {\n    console.log('Attempting to connect wallet...');\n    try {\n      // Check if MetaMask is installed\n      if (!window.ethereum) {\n        throw new Error('Please install MetaMask to connect your wallet');\n      }\n\n      // Request account access\n      await window.ethereum.request({ method: 'eth_requestAccounts' });\n      \n      // Activate the injected connector\n      await activate(injected, async (error) => {\n        console.error('Activation error:', error);\n        if (error.name === 'UnsupportedChainIdError') {\n          try {\n            // Try to switch to Sepolia network\n            await window.ethereum.request({\n              method: 'wallet_switchEthereumChain',\n              params: [{ chainId: '0xaa36a7' }], // Sepolia chainId\n            });\n          } catch (switchError) {\n            throw new Error('Please switch to Sepolia network in MetaMask');\n          }\n        }\n        throw error;\n      });\n      \n      console.log('Wallet connected:', account);\n    } catch (error) {\n      console.error('Error connecting wallet:', error);\n      // You might want to add a toast notification here for user feedback\n      alert(error.message || 'Failed to connect wallet. Please try again.');\n    }\n  };\n\n  const disconnectWallet = async () => {\n    try {\n      deactivate();\n      console.log('Wallet disconnected');\n    } catch (error) {\n      console.error('Error disconnecting wallet:', error);\n    }\n  };\n\n  const formatAddress = (address) => {\n    return `${address.slice(0, 6)}...${address.slice(-4)}`;\n  };\n\n  return (\n    <Box\n      px={4}\n      bg={useColorModeValue('gray.800', 'gray.900')}\n      borderBottom=\"1px\"\n      borderColor={useColorModeValue('gray.700', 'gray.700')}\n    >\n      <Flex h={16} alignItems=\"center\" justifyContent=\"space-between\">\n        <Text\n          fontSize=\"xl\"\n          fontWeight=\"bold\"\n          bgGradient=\"linear(to-r, cyan.400, blue.500, purple.600)\"\n          bgClip=\"text\"\n        >\n          BlockSnap\n        </Text>\n\n        <HStack spacing={4}>\n          {active ? (\n            <Menu>\n              <MenuButton\n                as={Button}\n                rightIcon={<ChevronDownIcon />}\n                colorScheme=\"blue\"\n                variant=\"outline\"\n              >\n                {formatAddress(account)}\n              </MenuButton>\n              <MenuList bg=\"gray.800\" borderColor=\"gray.700\">\n                <MenuItem\n                  bg=\"gray.800\"\n                  _hover={{ bg: 'gray.700' }}\n                  onClick={disconnectWallet}\n                >\n                  Disconnect Wallet\n                </MenuItem>\n              </MenuList>\n            </Menu>\n          ) : (\n            <Button\n              colorScheme=\"blue\"\n              onClick={connectWallet}\n              leftIcon={\n                <img\n                  src=\"/metamask-fox.svg\"\n                  alt=\"MetaMask\"\n                  style={{ width: '20px', height: '20px' }}\n                />\n              }\n            >\n              Connect Wallet\n            </Button>\n          )}\n        </HStack>\n      </Flex>\n    </Box>\n  );\n}\n\nexport default Navbar; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}